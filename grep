#include <stdio.h>
#include <stdlib.h>
#include <string.h> 

int check_file_exist(char *filename) {
  int chek = 0;
  FILE *file;
  file = fopen(filename, "r");
  if (file) {
    fclose(file);
    chek = 1;
  } else chek = 0;
  return chek;
}
  void open(char *filename){
   FILE *file;
   char c;
   file = fopen(filename, "r");
     while ((c = fgetc(file)) != EOF) {
      putchar(c);
     
   
  } 
  
    fclose(file);
  }

int choose_opt(char *flag){
    for(int i =0; i < 3;i++){
    printf("%c", flag[i]);
    }
    return 0;
}

int flag_check(char *flag, char t[])  {
    int w= 1;
 
     t = flag;

  if (t[0] != 45) w = 0;

  return w;
}

int main(int argc, char *argv[]){
int arg_count = argc;
int w = 0;
int l = 0;
int i = 1;
int *pars = (int*)malloc( arg_count * sizeof(int));
for( i = 1; i < arg_count; i++){
    l = strlen(argv[i]);
     char *t = (char *)malloc(l * sizeof(char));
   w = flag_check(argv[i], t);
   free(t);

  
   printf(" argument number =%d %d \n", i, w);
   pars[i] = w;
}
int f = 0;
 int co =0;
for(int i = 1; i < arg_count; i++){
    if(pars[i]==0){
        co++;
        //printf("%d", co);
    }
    if(pars[i]== 1){
     choose_opt(argv[i]);
     co =0;
    }
    if(co == 2){
       f = check_file_exist(argv[i]);
    }
   printf("%d", f);
    if( f == 1){
        open(argv[i]);
        f =0;
    }
}
printf("\n");
free(pars);
return 0;
}
